<%= form_for(@argument) do |f| %>
  <% if @argument.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@argument.errors.count, "error") %> prohibited this argument from being saved:</h2>
      <ul>
      <% @argument.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <p>
    <% if local_assigns[:suggest_new] %>
      Without changing the argument's meaning, adjust the words to show how you interpret the original argument.
    <% else %>
      <%= @argument.premise_input_placeholder %>
    <% end %>
  </p>

  <ul class="premises-form">
    <% @argument.premises.each do |premise| %>
      <li>
        <input type="text" name="<%= "premises[#{premise.id}]" %>" value="<%= premise.text %>" class="statement-line">
      </li>
    <% end %>
    <li>
      <input type="text" name="new_premise" class="statement-line" value="" />
    </li>
  </ul>

  <div class="argument-actions">
    <button type="submit">Save</button>
    <button type="submit" name="update_action" value="save_and_add">Add another premise</button>
    <%= link_to 'Cancel', @argument.subject %>
  </div>

  <%= f.number_field :subject_statement_id, hidden: true %>
  <%= f.number_field :subject_premise_id, hidden: true %>
  <%= f.check_box :agree, hidden: true %>
<% end %>
